<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Checkout ‚Äî BookNest Online Bookstore</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

<!-- Light/Dark Mode Toggle -->
<input type="checkbox" id="theme-checkbox" aria-label="Toggle Light/Dark Mode"/>
<label for="theme-checkbox" class="theme-switch">üåô Light / ‚òÄÔ∏è Dark</label>

<div class="site">

    <header class="site-header">
        <div class="container flex between center wrap">
           <a class="brand" href="home.html">
          <div class="mark">CR</div>
          <span>CozyReads</span>
           </a>
           
           <!-- Hamburger Menu Button -->
           <button class="menu-toggle" id="menuToggle">
             <span></span>
             <span></span>
             <span></span>
           </button>
           
           <!-- Navigation Overlay -->
           <div class="nav-overlay" id="navOverlay"></div>
           
            <nav class="nav flex center wrap" id="mainNav">
                <a href="index.html" class="active">Home</a>
                <a href="categories.html">Categories</a>
                <a href="orders.html">Orders</a>
                <a href="contact.html">Contact</a>
                <div class="nav-right">
                    <a href="wishlist.html" class="badge">
                        <i class="fas fa-heart"></i> 
                        <span id="wishlist-count">0</span>
                    </a>
                    <a href="cart.html" class="badge">
                        <i class="fas fa-shopping-cart"></i> 
                        <span id="cart-count">0</span>
                    </a>
                    <a href="login.html" class="login-btn">Login</a>
                </div>
            </nav>
        </div>
    </header>

  <!-- Checkout Section -->
  <main class="container reveal" style="padding-top:16px;">
    <h2>Checkout</h2>
    <p>Review your order and enter your shipping details below.</p>

    <!-- Order Summary -->
    <table class="table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Subtotal</th>
        </tr>
      </thead>
      <tbody id="cart-items-checkout">
        <!-- Items injected by script.js -->
      </tbody>
    </table>

    <div class="flex between" style="margin-top:12px; align-items:center;">
      <div class="badge">Total: <span id="cart-total-checkout">$0.00</span></div>
    </div>

    <!-- Shipping Form -->
    <section class="card section-spacing" style="margin-top:2rem; max-width:500px;">
      <h3>Shipping Information</h3>
      <form id="checkout-form">
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />

        <label for="address">Address:</label>
        <textarea id="address" name="address" required></textarea>

        <label for="city">City:</label>
        <input type="text" id="city" name="city" required />

        <label for="zip">ZIP / Postal Code:</label>
        <input type="text" id="zip" name="zip" required />

        <button type="submit" class="btn">Place Order</button>
      </form>
    </section>
  </main>

    <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>CozyReads</h3>
          <p>Your premier destination for books of all genres. We're passionate about connecting readers with their next favorite book.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-goodreads"></i></a>
          </div>
        </div>
        
        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul class="footer-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="categories.html">Categories</a></li>
            <li><a href="shop.html">Shop</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h3>Customer Service</h3>
          <ul class="footer-links">
            <li><a href="#">Shipping Info</a></li>
            <li><a href="#">Returns</a></li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Privacy Policy</a></li>
          </ul>
        </div>
        
        <div class="footer-column">
          <h3>Contact Info</h3>
          <ul class="footer-links">
            <li><i class="fas fa-map-marker-alt"></i> 123 Book Street, Literary City</li>
            <li><i class="fas fa-phone"></i> (123) 456-7890</li>
            <li><i class="fas fa-envelope"></i> info@cozyreads.com</li>
          </ul>
        </div>
      </div>
      
      <div class="copyright">
        <p>&copy; 2023 CozyReads. All rights reserved.</p>
      </div>
    </div>
  </footer>

</div>

<script src="js/script.js"></script>
<script>
  // ===== Inject cart items into checkout page =====
  const checkoutItemsEl = document.getElementById("cart-items-checkout");
  const checkoutTotalEl = document.getElementById("cart-total-checkout");
  const cartData = JSON.parse(localStorage.getItem("cart")) || [];

  function renderCheckout() {
    let total = 0;
    checkoutItemsEl.innerHTML = "";
    if(cartData.length === 0) {
      checkoutItemsEl.innerHTML = '<tr><td colspan="4">Your cart is empty.</td></tr>';
      checkoutTotalEl.textContent = '$0.00';
      return;
    }

    cartData.forEach(item => {
      const subtotal = item.price * item.qty;
      total += subtotal;
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${item.name}</td>
        <td>${item.qty}</td>
        <td>$${item.price.toFixed(2)}</td>
        <td>$${subtotal.toFixed(2)}</td>
      `;
      checkoutItemsEl.appendChild(tr);
    });

    checkoutTotalEl.textContent = `$${total.toFixed(2)}`;
  }

  renderCheckout();

  // ===== Handle form submission =====
  const checkoutForm = document.getElementById("checkout-form");
  checkoutForm.addEventListener("submit", (e) => {
    e.preventDefault();
    // Simple success toast
    const name = document.getElementById("name").value;
    alert(`Thank you, ${name}! Your order has been placed.`);
    localStorage.removeItem("cart"); // Clear cart after order
    window.location.href = "index.html";
  });
</script>
</body>
</html>
